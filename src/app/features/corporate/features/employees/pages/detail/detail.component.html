<div class="grid" *ngIf="employee">
    <div class="col-12">
        <div class="card">
            <div class="flex justify-content-between align-items-center mb-5">
                <h5>Detalhes do Funcionário: {{ employee.user.firstname }} {{ employee.user.lastname }}</h5>
                <div>
                    <button pButton pRipple label="Editar" icon="pi pi-pencil" class="p-button-outlined mr-2"
                            (click)="editEmployee()"></button>
                    <button pButton pRipple label="Voltar" icon="pi pi-arrow-left" class="p-button-outlined"
                            (click)="goBack()"></button>
                </div>
            </div>

            <p-tabView>
                <!-- Info Tab -->
                <p-tabPanel header="Informações">
                    <div class="grid">
                        <!-- Personal Information -->
                        <div class="col-12 md:col-6">
                            <div class="card">
                                <h5>Informações Pessoais</h5>
                                <div class="field">
                                    <label>ID</label>
                                </div>
                                <div class="field">
                                    <label>Nome Completo</label>
                                    <div>{{ employee.user.firstname }} {{ employee.user.lastname }}</div>
                                </div>
                                <div class="field">
                                    <label>Email</label>
                                    <div>{{ employee.user.email }}</div>
                                </div>
                                <div class="field">
                                    <label>Telefone</label>
                                    <div>{{ employee.user.phone || 'Não informado' }}</div>
                                </div>
                                <div class="field">
                                    <label>Data de Nascimento</label>
                                    <div>{{ (employee.user.dateOfBirth | date:'short') || 'Não informado' }}</div>
                                </div>
                            </div>
                        </div>

                        <!-- Employment Information -->
                        <div class="col-12 md:col-6">
                            <div class="card">
                                <h5>Informações Profissionais</h5>
                                <div class="field">
                                    <label>Departamento</label>
                                </div>
                                <div class="field">
                                    <label>Cargo</label>
                                </div>
                                <div class="field">
                                    <label>Data de Contratação</label>
                                    <div>{{ employee.hireDate | date:'dd/MM/yyyy' }}</div>
                                </div>
                                <div class="field">
                                    <label>Status</label>
                                    <div>
                                        <p-tag [severity]="getStatusSeverity(employee.status)"
                                               [value]="getStatusLabel(employee.status)"></p-tag>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Roles Tab -->
                <p-tabPanel header="Funções e Permissões">
                    <router-outlet></router-outlet>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
</div>

<div class="grid" *ngIf="loading">
    <div class="col-12 flex justify-content-center">
        <p-progressSpinner></p-progressSpinner>
    </div>
</div>

<div class="grid" *ngIf="!employee && !loading">
    <div class="col-12">
        <div class="card">
            <div class="flex flex-column align-items-center">
                <i class="pi pi-exclamation-triangle text-yellow-500" style="font-size: 3rem"></i>
                <h5>Funcionário não encontrado</h5>
                <button pButton pRipple label="Voltar para a lista" icon="pi pi-arrow-left" class="p-button-outlined"
                        (click)="goBack()"></button>
            </div>
        </div>
    </div>
</div>
