<div class="grid">
    <div class="col-12 md:col-4">
      <div class="card">
        <h2 class="mb-3">Abrir chamado de suporte</h2>
        <form [formGroup]="supportForm" (ngSubmit)="enviarSolicitacao()" class="p-fluid">
          <div class="field">
            <label for="title">Assunto</label>
            <input id="title" pInputText formControlName="title" placeholder="Ex: Problema de login" />
          </div>
          <div class="field">
            <label for="message">Mensagem</label>
            <textarea
              id="message"
              pInputTextarea
              formControlName="message"
              rows="5"
              placeholder="Descreva o problema..."
            ></textarea>
          </div>
          <button pButton type="submit" label="Enviar" [disabled]="supportForm.invalid"></button>
        </form>
      </div>
    </div>

    <div class="col-12 md:col-8">
      <div class="card">
        <h2 class="mb-3">Minhas solicitações</h2>
        <p-table [value]="tickets">
          <ng-template pTemplate="header">
            <tr>
              <th>Assunto</th>
              <th>Status</th>
              <th>Data de Criação</th>
              <th>Última Atualização</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-ticket>
            <tr>
              <td>{{ ticket.title }}</td>
              <td>
                <p-tag [value]="ticket.status" [severity]="getStatusColor(ticket.status)"></p-tag>
              </td>
              <td>{{ ticket.createdAt | date: 'dd/MM/yyyy HH:mm' }}</td>
              <td>{{ ticket.updatedAt | date: 'dd/MM/yyyy HH:mm' }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
