<div class="grid p-2">
    <!-- KPIs Section -->
    <div class="col-12 md:col-6 xl:col-3" *ngFor="let kpi of kpis">
        <div class="card h-full">
            <div class="flex align-items-center mb-3">
                <div class="flex justify-content-center align-items-center mr-3 border-round" [ngClass]="kpi.color"
                     style="width: 40px; height: 40px">
                    <i class="pi" [ngClass]="kpi.icon" style="font-size: 1.5rem"></i>
                </div>
                <span class="font-semibold text-lg">{{ kpi.label }}</span>
            </div>
            <div class="text-4xl font-bold text-900">{{ kpi.value }}</div>
        </div>
    </div>

    <!-- Report Display Section -->
    <div class="col-12" *ngIf="reportGenerated">
        <div class="flex justify-content-between align-items-center mb-5">
            <h5>Relat√≥rio de Aulas</h5>
            <div class="flex gap-2">
                <button
                    pButton
                    pRipple
                    label="Exportar"
                    icon="pi pi-download"
                    class="p-button-primary"
                    (click)="exportReport()">
                </button>
                <button
                    pButton
                    pRipple
                    label="Imprimir"
                    icon="pi pi-print"
                    class="p-button-primary "
                    (click)="printReport()">
                </button>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid">
            <!-- Distribution by type - Pie chart -->
            <div class="col-12 md:col-6">
                <div class="card h-full">
                    <p-chart
                        type="pie"
                        [data]="pieDataLessonType"
                        [options]="pieLessonTypeOptions"
                        height="300px">
                    </p-chart>
                </div>
            </div>

            <!-- Lessons by status - Bar chart -->
            <div class="col-12 md:col-6">
                <div class="card h-full">
                    <p-chart
                        type="bar"
                        [data]="barChartLessonStatus"
                        [options]="barChartLessonStatusOptions"
                        height="300px">
                    </p-chart>
                </div>
            </div>

            <!-- Distribution by levels - Pie chart -->
            <div class="col-12 md:col-6">
                <div class="card h-full">
                    <p-chart
                        type="pie"
                        [data]="pieChartLevels"
                        [options]="pieChartLevelsOptions"
                        height="300px">
                    </p-chart>
                </div>
            </div>

            <!-- Participation trend - Line chart -->
            <div class="col-12 md:col-6">
                <div class="card h-full">
                    <p-chart
                        type="line"
                        [data]="lineChartParticipation"
                        [options]="lineChartParticipationOptions"
                        height="300px">
                    </p-chart>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Toast for notifications -->
<p-toast></p-toast>

