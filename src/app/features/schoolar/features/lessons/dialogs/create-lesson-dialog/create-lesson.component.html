<p-toast></p-toast>

<div class="grid">
    <div id="mainHeader" class="col-12 flex justify-content-between items-center mb-4 sticky-header">
        <div>
            <h2 class="font-bold text-2xl mb-4">Nova aula</h2>
            <span class="text-lg">Cadastro completo de aulas</span>
        </div>
    </div>

    <div class="col-12">
        <div class="card">
            <div class="p-fluid grid">
                <div class="col-12 md:col-6  field">
                    <label for="title" class="font-bold">Título *</label>
                    <input
                        id="title"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.title"
                        placeholder="Ex. English Conversation A1"
                        required>
                </div>

                <div class="col-12 md:col-6 field">
                    <label for="center" class="font-bold">Centro</label>
                    <p-dropdown
                        id="center"
                        [options]="centerOptions"
                        [(ngModel)]="lesson.center"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Selecione o centro"
                        [showClear]="true">
                    </p-dropdown>
                </div>

                <div class="col-12 md:col-6 field">
                    <label for="startDatetime" class="font-bold">Data de Início *</label>
                    <p-calendar
                        id="startDatetime"
                        [(ngModel)]="lesson.startDatetime"
                        [showIcon]="true"
                        [showTime]="true"
                        dateFormat="dd/mm/yy"
                        [required]="true">
                    </p-calendar>
                </div>

                <div class="col-12 md:col-6 field">
                    <label for="endDatetime" class="font-bold">Data de fim *</label>
                    <p-calendar
                        id="endDatetime"
                        [(ngModel)]="lesson.endDatetime"
                        [showIcon]="true"
                        [showTime]="true"
                        dateFormat="dd/mm/yy"
                        [required]="true">
                    </p-calendar>
                </div>

                <div class="col-12 md:col-6  field">
                    <label for="teacher" class="font-bold">Professor responsável *</label>
                    <input
                        id="teacher"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.teacher"
                        placeholder="Enter teacher name"
                        required>
                </div>

                <div class="col-12 md:col-6  field">
                    <label for="level" class="font-bold">Nível *</label>
                    <p-dropdown
                        id="level"
                        [options]="levelOptions"
                        [(ngModel)]="lesson.level"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Select a level"
                        [showClear]="true"
                        [required]="true">
                    </p-dropdown>
                </div>

                <div class="col-12 field">
                    <div class="flex align-items-center">
                        <label for="online" class="font-bold mr-2">Aula online?</label>
                        <p-checkbox
                            id="online"
                            [(ngModel)]="lesson.online"
                            [binary]="true">
                        </p-checkbox>
                    </div>
                </div>

                <div class="col-12 field" *ngIf="lesson.online">
                    <label for="onlineLink" class="font-bold">Link da aula online</label>
                    <input
                        id="onlineLink"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.onlineLink"
                        placeholder="Enter online meeting link">
                </div>

                <div class="col-12 field">
                    <label for="status" class="font-bold">Estado</label>
                    <p-dropdown
                        id="status"
                        [options]="statusOptions"
                        [(ngModel)]="lesson.status"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Select a status">
                    </p-dropdown>
                </div>

                <div class="col-12 field">
                    <label for="description" class="font-bold">Descrição</label>
                    <textarea
                        id="description"
                        rows="3"
                        pInputTextarea
                        [(ngModel)]="lesson.description"
                        placeholder="Descreva  os objectivos e conteúdos das aulas">
                    </textarea>
                </div>
            </div>

            <div class="flex justify-content-end gap-2 mt-4">
                <button
                    pButton
                    label="Cancelar"
                    icon="pi pi-times"
                    class="p-button-outlined p-button-secondary mr-2"
                    (click)="cancel()">
                </button>
                <button
                    pButton
                    label="Criar aula"
                    [loading]="loading"
                    (click)="saveLesson()">
                </button>
            </div>
        </div>
    </div>
</div>
