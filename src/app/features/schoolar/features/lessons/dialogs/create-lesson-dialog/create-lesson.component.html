<p-toast></p-toast>

<div class="grid">
    <div class="col-12">
        <div class="card">
            <h5>Create Lesson</h5>
            <div class="p-fluid grid">
                <div class="col-12 field">
                    <label for="title" class="font-bold">Title *</label>
                    <input
                        id="title"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.title"
                        placeholder="Enter lesson title"
                        required>
                </div>

                <div class="col-12 field">
                    <label for="teacher" class="font-bold">Teacher *</label>
                    <input
                        id="teacher"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.teacher"
                        placeholder="Enter teacher name"
                        required>
                </div>

                <div class="col-12 field">
                    <label for="level" class="font-bold">Level *</label>
                    <p-dropdown
                        id="level"
                        [options]="levelOptions"
                        [(ngModel)]="lesson.level"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Select a level"
                        [showClear]="true"
                        [required]="true">
                    </p-dropdown>
                </div>

                <div class="col-12 field">
                    <label for="center" class="font-bold">Center</label>
                    <p-dropdown
                        id="center"
                        [options]="centerOptions"
                        [(ngModel)]="lesson.center"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Select a center"
                        [showClear]="true">
                    </p-dropdown>
                </div>

                <div class="col-12 md:col-6 field">
                    <label for="startDatetime" class="font-bold">Start Date/Time *</label>
                    <p-calendar
                        id="startDatetime"
                        [(ngModel)]="lesson.startDatetime"
                        [showIcon]="true"
                        [showTime]="true"
                        dateFormat="dd/mm/yy"
                        [required]="true">
                    </p-calendar>
                </div>

                <div class="col-12 md:col-6 field">
                    <label for="endDatetime" class="font-bold">End Date/Time *</label>
                    <p-calendar
                        id="endDatetime"
                        [(ngModel)]="lesson.endDatetime"
                        [showIcon]="true"
                        [showTime]="true"
                        dateFormat="dd/mm/yy"
                        [required]="true">
                    </p-calendar>
                </div>

                <div class="col-12 field">
                    <div class="flex align-items-center">
                        <label for="online" class="font-bold mr-2">Online Lesson</label>
                        <p-checkbox
                            id="online"
                            [(ngModel)]="lesson.online"
                            [binary]="true">
                        </p-checkbox>
                    </div>
                </div>

                <div class="col-12 field" *ngIf="lesson.online">
                    <label for="onlineLink" class="font-bold">Online Link</label>
                    <input
                        id="onlineLink"
                        type="text"
                        pInputText
                        [(ngModel)]="lesson.onlineLink"
                        placeholder="Enter online meeting link">
                </div>

                <div class="col-12 field">
                    <label for="status" class="font-bold">Status</label>
                    <p-dropdown
                        id="status"
                        [options]="statusOptions"
                        [(ngModel)]="lesson.status"
                        optionLabel="label"
                        optionValue="value"
                        placeholder="Select a status">
                    </p-dropdown>
                </div>

                <div class="col-12 field">
                    <label for="description" class="font-bold">Description</label>
                    <textarea
                        id="description"
                        rows="3"
                        pInputTextarea
                        [(ngModel)]="lesson.description"
                        placeholder="Enter lesson description">
                    </textarea>
                </div>
            </div>

            <div class="flex justify-content-end gap-2 mt-4">
                <button
                    pButton
                    label="Cancel"
                    icon="pi pi-times"
                    class="p-button-text mr-2"
                    (click)="cancel()">
                </button>
                <button
                    pButton
                    label="Save"
                    icon="pi pi-check"
                    [loading]="loading"
                    (click)="saveLesson()">
                </button>
            </div>
        </div>
    </div>
</div>
