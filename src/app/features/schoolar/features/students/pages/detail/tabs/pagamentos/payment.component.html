<p-card header="Histórico de Pagamentos" styleClass="mb-4">
    <p class="text-sm text-color-secondary mb-4">
        Acompanhe todos os pagamentos e pendências financeiras
    </p>

    <!-- Summary Stats -->
    <div class="grid mb-4">
        <div
            *ngFor="let stat of stats"
            class="col-12 md:col-3 p-2"
        >
            <div class="p-3 border-round text-center shadow-1 surface-card">
                <div class="text-xs text-color-secondary mb-2 font-medium">
                    {{ stat.label }}
                </div>
                <div class="text-lg font-bold {{ stat.color }}">
                    {{ stat.value }}
                </div>
            </div>
        </div>
    </div>

    <p-divider></p-divider>

    <!-- Pagamentos -->
    <div *ngFor="let pag of payments"
         class="flex flex-column justify-content-between gap-2 mb-4 pb-3 border-bottom-1 surface-border">
        <div class="flex justify-content-between w-full">
            <div class="flex flex-column gap-3">
                <div class="flex justify-content-between align-items-center gap-3 mb-2">
                    <span class="text-sm font-semibold text-color">{{ pag.mes }}</span>
                    <p-tag [value]="pag.estado" [severity]="pag.cor"></p-tag>
                </div>
                <div class="text-xs text-color-secondary mb-1">
                    <strong>Vencimento:</strong> <br/> {{ pag.vencimento }}
                </div>
            </div>

            <div class="flex flex-column justify-content-between gap-3">
                <div></div>
                <div *ngIf="pag.pagamento" class="text-xs text-color-secondary mb-1">
                    <strong>Data Pagamento:</strong> <br/> {{ pag.pagamento }}
                </div>
            </div>

            <div class="flex flex-column justify-content-between gap-3">
                <span></span>
                <div *ngIf="pag.metodo"
                     class="text-xs text-color-secondary mb-1">
                    <strong>Método:</strong> <br/> {{ pag.metodo }}
                </div>
            </div>

            <div class="flex flex-column justify-content-between gap-3">
                <span></span>
                <div *ngIf="pag.recibo" class="text-xs text-color-secondary mb-1">
                    <strong>Recibo:</strong> <br/>
                    <div class="flex align-content-center gap-2"><span>{{ pag.recibo }}</span> <i class="pi pi-eye"></i>
                    </div>

                </div>
            </div>
            <div>
            <span class="text-base font-semibold text-color">
                {{ pag.valor }}
            </span>
            </div>
        </div>
        <div *ngIf="pag.atrasoDias" class="flex justify-content-between border-black-alpha-10 border-top-1 pb-2">
            <div class="mt-2 text-xs text-red-500 font-medium pt-3">
                Pagamento em atraso há {{ pag.atrasoDias }} dias
            </div>
            <button *ngIf="pag.acao" pButton [label]="pag.acao" class="mt-3"></button>
        </div>
    </div>
</p-card>
